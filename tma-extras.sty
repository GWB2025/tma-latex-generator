%% File: tma-extras.sty
%% This is a STYLE file - DO NOT EDIT!
%% This file provides additional LaTeX commands, mathematical operators, and formatting.
%% Editing this file may break mathematical notation and document features.
%% Generated/Copied by TMA LaTeX Generator

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{tma-extras}[2025/09/18 tma extras package]

% ==================== PACKAGE REQUIREMENTS ====================
\RequirePackage{luacode}
\RequirePackage{dirtytalk}
\RequirePackage{diagbox}
\RequirePackage{calculator}
\RequirePackage{forest,adjustbox}
\RequirePackage{tcolorbox}
\RequirePackage{url}
\RequirePackage{mathtools}
\RequirePackage{longtable}
\RequirePackage{lscape}
\RequirePackage{tabularx}
\RequirePackage{tabu}
\RequirePackage{xparse}
\RequirePackage{expl3}
\RequirePackage{rotating}
\RequirePackage{xifthen}
\RequirePackage{verbatim}
\RequirePackage{microtype}
\RequirePackage{import}
\RequirePackage{booktabs, multirow}
\RequirePackage{changepage,threeparttable}
\RequirePackage[mathscr]{euscript}
\RequirePackage{float}
\RequirePackage{cancel}
\RequirePackage{enumitem}
\RequirePackage{lastpage}
\RequirePackage[normalem]{ulem}
\RequirePackage{amsfonts}
\RequirePackage{amsthm}
\RequirePackage{upgreek}
\RequirePackage{wasysym}

% ==================== BASIC FORMATTING ====================
\urlstyle{same}

% Page numbering setup - ONLY if question counter exists
\@ifundefined{c@question}{}{%
    \numberwithin{page}{question}%
    \renewcommand{\thepage}{Q\thequestion-\arabic{page}}%
}

% ==================== MATHEMATICAL OPERATORS ====================
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\Log}{Log}
\DeclareMathOperator{\Arg}{Arg}
\DeclareMathOperator{\Wnd}{Wnd}
\DeclareMathOperator{\Res}{Res}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Orb}{Orb}
\DeclareMathOperator{\Stab}{Stab}
\DeclareMathOperator{\Fix}{Fix}

% ==================== MATRIX AND ARRAY CONFIGURATION ====================
% Increase the number of columns of pmatrix from 10 to 20
\setcounter{MaxMatrixCols}{20}

\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}

\newenvironment{sysmatrix}[1]
 {\left(\begin{array}{@{}#1@{}}}
 {\end{array}\right)}

\newlength{\rowidth}% row operation width
\AtBeginDocument{\setlength{\rowidth}{3em}}
\newcommand{\ro}[1]{%
  \xrightarrow{\mathmakebox[\rowidth]{#1}}%
}

% ==================== THEOREM ENVIRONMENTS ====================
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}

% ==================== CUSTOM COMMANDS ====================
% General text commands
\newcommand{\pytex}{Python\TeX}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}

% Common fractions - REMOVED DUPLICATES
\newcommand{\third}{\frac{1}{3}}
\newcommand{\twothirds}{\frac{2}{3}}
\newcommand{\half}{\frac{1}{2}}
\newcommand{\fifth}{\frac{1}{5}}
\newcommand{\twofifths}{\frac{2}{5}}
\newcommand{\threefifths}{\frac{3}{5}}
\newcommand{\fourfifths}{\frac{4}{5}}
\newcommand{\sixth}{\frac{1}{6}}
\newcommand{\fivesixths}{\frac{5}{6}}
\newcommand{\eighth}{\frac{1}{8}}
\newcommand{\threeeighths}{\frac{3}{8}}
\newcommand{\fiveeighths}{\frac{5}{8}}
\newcommand{\seveneighths}{\frac{7}{8}}
\newcommand{\tenth}{\frac{1}{10}}

% Check if commands already exist, use \providecommand for potentially conflicting ones
\providecommand{\quarter}{\frac{1}{4}}
\providecommand{\threequarters}{\frac{3}{4}}

% Mathematical notation shortcuts
\newcommand{\wrt}{with respect to\xspace}
\newcommand{\pts}[1]{\marginnote{$[#1]$\xspace}}
\newcommand{\W}{Wronskian\xspace}
\newcommand{\upon}[1]{\frac{1}{#1}}
\newcommand{\Upon}[1]{\dfrac{1}{#1}}
\newcommand{\gd}{Gâteaux differential\xspace}
\newcommand{\el}{Euler-Lagrange equation\xspace}
\newcommand\numberthis{\stepcounter{equation}{1}\tag{\theequation}}

\newcommand{\nl}{nonlinear\xspace}
\newcommand{\js}{\textbf{JS}\xspace}
\newcommand{\sls}{Sturm-Liouville system\xspace}
\newcommand{\fl}{Fundamental lemma of the Calculus of Variations\xspace}
\newcommand{\rhs}{right-hand side\xspace}
\newcommand{\lhs}{left-hand side\xspace}
\newcommand{\Rhs}{Right-hand side\xspace}
\newcommand{\Lhs}{Left-hand side\xspace}
\newcommand{\pbt}{Poincaré-Bendixson Theorem\xspace}
\newcommand{\nt}{Noether's theorem\xspace}
\newcommand{\auxe}{auxiliary equation\xspace}

% Mathematical operators
\newcommand{\Deriv}[2]{\dfrac{\mathrm{d}#1}{\mathrm{d}#2}}
\newcommand{\Pderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\psderiv}[3]{\frac{\partial ^2#1}{\partial #2\partial #3}}
\newcommand{\tr}[1]{\ensuremath{\text{Tr}#1}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\Rr}{\ensuremath{\mathcal{R}}}
\newcommand{\ve}[1]{\mathbf{#1}}
\newcommand{\st}{\ensuremath{^\mathrm{st}}}
\newcommand{\nd}{\ensuremath{^\mathrm{nd}}}
\newcommand{\rd}{\ensuremath{^\mathrm{rd}}}
\newcommand{\nth}{\ensuremath{^\mathrm{th}}}
\newcommand{\sgn}{\ensuremath{\mathrm{sgn}}}
\renewcommand{\vec}[1]{\overrightarrow{#1}}

\newcommand{\rect}{\ensuremath{\sqsubset\!\!\sqsupset}}
\newcommand{\comb}[2]{\ensuremath{^{#1}C_{#2}}}
\newcommand{\perm}[2]{\ensuremath{^{#1}P_{#2}}}
\newcommand{\dprime}{{\prime\prime}}
\newcommand{\EL}{\deriv{}{x}\left(\pderiv{F}{y^\prime}\right)-\pderiv{F}{y} = 0}
\newcommand{\ELE}[3]{\deriv{}{#2}\left(\pderiv{#1}{#3^\prime}\right)-\pderiv{#1}{#3} = 0}
\newcommand{\ELEd}[3]{\deriv{}{#2}\left(\pderiv{#1}{\dot{#3}}\right)-\pderiv{#1}{#3} = 0}
\newcommand{\Int}[3]{\int_{#1}^{#2}\mathrm{d} #3\,\xspace}
\newcommand{\lr}[1]{\left(#1\right)\xspace}
\newcommand{\lrs}[1]{\left[#1\right]\xspace}
\newcommand{\lrc}[1]{\left\{#1\right\}\xspace}
\newcommand{\Sv}[1]{S\left[{#1}\right]}
\newcommand{\qtq}[1]{\quad\text{#1}\quad}
\newcommand{\Mod}[1]{\ (\mathrm{mod}\ #1)}
\newcommand{\hill}{\textbf{H}\ }

% Basic math commands
\newcommand{\deriv}[2]{\frac{\mathrm{d}#1}{\mathrm{d}#2}}
\newcommand{\pderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\dd}{\ensuremath{\, \mathrm{d}}}
\newcommand{\e}{\ensuremath{\mathrm{e}}}
\newcommand{\ii}{\ensuremath{\mathrm{i}}}

% Number sets
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}
\newcommand{\N}{\ensuremath{\mathbb{N}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}

% Reference commands
\newcommand{\hth}[2]{\textbf{Theorem~#1}\marginnote{\textbf{H} p#2.}}
\newcommand{\hlm}[2]{\textbf{Lemma~#1}\marginnote{\textbf{H} p#2.}}
\newcommand{\bdef}[3]{\textbf{Definition~#1}\marginnote{Block \textbf{#2} Course Notes p#3.}}
\newcommand{\bth}[3]{\textbf{Theorem~#1}\marginnote{Block \textbf{#2} Course Notes p#3.}}
\newcommand{\bcn}[2]{\marginnote{Block \textbf{#1} Course Notes p#2.}}

\NewDocumentCommand\gloss{mmo}{%
    \IfNoValueTF{#3}
        {\marginnote{\textbf{#1} Glossary p#2.}}
        {\marginnote{\textbf{#1} Glossary p#2.}[#3cm]}%
}

% ==================== DOCUMENT FINALIZATION ====================
\AtEndDocument{\label{l@stpage}}

\endinput